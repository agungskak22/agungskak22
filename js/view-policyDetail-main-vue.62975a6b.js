(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-policyDetail-main-vue","view-main-vue"],{"020d":function(t,i,a){},"22ec":function(t,i,a){var e={"./radio_button_24px_outlined_off.svg":"367c","./radio_button_24px_outlined_on.svg":"bf60"};function n(t){var i=s(t);return a(i)}function s(t){if(!a.o(e,t)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e[t]}n.keys=function(){return Object.keys(e)},n.resolve=s,t.exports=n,n.id="22ec"},"367c":function(t,i,a){t.exports=a.p+"img/radio_button_24px_outlined_off.4a5de9f0.svg"},"40d8":function(t,i,a){var e={"./detail.vue":["932a","view-detail-vue"],"./info.vue":["8407","view-info-vue"],"./main.vue":["7505","chunk-136951a1","view-main-vue~view-pdf-vue~view-policyDetail-main-vue","view-main-vue"],"./pdf.vue":["95a6","view-main-vue~view-pdf-vue~view-policyDetail-main-vue","view-pdf-vue"],"./provision.vue":["d136","view-provision-vue"],"./sidebar.vue":["cfdc","chunk-6cdb8429","view-sidebar-vue"]};function n(t){if(!a.o(e,t))return Promise.resolve().then((function(){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}));var i=e[t],n=i[0];return Promise.all(i.slice(1).map(a.e)).then((function(){return a(n)}))}n.keys=function(){return Object.keys(e)},n.id="40d8",t.exports=n},4685:function(t,i,a){t.exports=a.p+"img/download_24px_outlined.7877cf89.svg"},"6bfe":function(t,i,a){t.exports=a.p+"img/clear_24px_outlined.8eb84659.svg"},7505:function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticStyle:{display:"flex"}},[e("div",{style:t.$store.state.isAuthenticated?"padding: 0px 10px;":"padding: 0px 50px;",attrs:{id:"r-body-kp"}},[e("div",{attrs:{id:"r-sidebar"}},[e("div",{staticClass:"r-header-kp"},[null==t.$route.params.search?e("h2",{staticStyle:{"margin-right":"auto"},style:"text-align: "+(null===t.showContent?"left":"center")},[t._v("Daftar Ketentuan")]):t._e(),null!=t.$route.params.search?e("div",{staticStyle:{"margin-right":"auto","margin-top":"10px","margin-bottom":"10px"},style:"text-align: "+(null===t.showContent?"left":"center")},[e("h2",[t._v('Hasil Pencarian Untuk "'+t._s(t.$route.params.search)+'"')]),e("h4",[t._v(t._s(t.listData.total)+" artikel ditemukan")])]):t._e(),e("div",{staticClass:"r-select",on:{click:function(i){i.preventDefault(),t.showPopUp=!t.showPopUp}}},[e("div",{staticClass:"r-icon-left"},[e("img",{attrs:{src:a("82f7"),alt:""}})]),e("p",{staticClass:"r-select-label"},[t._v("Pengaturan")]),e("div",{staticClass:"r-icon-right"},[e("img",{attrs:{src:a("c551"),alt:""}})]),t.showPopUp?e("div",{staticClass:"r-select-popup",style:(null===t.showContent?"right":"left")+": 0px"},[e("div",{staticClass:"r-fixed-transparentbg"}),e("div",{staticClass:"columns"},[e("div",{staticClass:"column r-has-rightBorder r-select-custom"},[e("p",{staticClass:"r-select-title"},[t._v("Urutkan Berdasarkan")]),e("div",{staticClass:"r-radio-button",on:{click:function(i){i.preventDefault(),t.sort="date"}}},[e("img",{attrs:{src:a("22ec")("./radio_button_24px_outlined_"+("date"==t.sort?"on":"off")+".svg"),alt:""}}),e("p",[t._v("Tanggal Terbaru")])]),e("div",{staticClass:"r-radio-button",on:{click:function(i){i.preventDefault(),t.sort="AtoZ"}}},[e("img",{attrs:{src:a("22ec")("./radio_button_24px_outlined_"+("AtoZ"==t.sort?"on":"off")+".svg"),alt:""}}),e("p",[t._v("Judul (A-Z)")])]),e("div",{staticClass:"r-radio-button",on:{click:function(i){i.preventDefault(),t.sort="ZtoA"}}},[e("img",{attrs:{src:a("22ec")("./radio_button_24px_outlined_"+("ZtoA"==t.sort?"on":"off")+".svg"),alt:""}}),e("p",[t._v("Judul (Z-A)")])])]),e("div",{staticClass:"column r-select-custom"},[e("p",{staticClass:"r-select-title"},[t._v("Filter Jenis Ketentuan")]),t._l(t.categories,(function(i){return e("div",{key:"cat-"+i.id,staticClass:"r-radio-button",on:{click:function(a){return a.preventDefault(),t.filterType(i.id)}}},[e("img",{attrs:{src:a("ab04")("./check_box_24px_outlined_"+(t.isFilter(i.id)?"on":"off")+".svg"),alt:""}}),e("p",[t._v(t._s(i.name))])])}))],2)])]):t._e()])]),t.$store.state.isAuthenticated?t._e():e("r-sidebar",{attrs:{data:t.listData,sidebarVersion:t.sidebarVersion},on:{pagination:t.pagination,setContent:t.setShowContent}}),t.$store.state.isAuthenticated?e("v-tabs",{staticClass:"policy-list-tabs",attrs:{"background-color":"transparent"}},[e("v-tab",{staticClass:"v-tab-policy-list tab-policy-list-1",attrs:{href:"#mandatory"}},[t._v(" Harus Dipelajari ")]),e("v-tab",{staticClass:"v-tab-policy-list tab-policy-list-2",attrs:{href:"#others"}},[t._v(" Lainnya ")]),e("v-tab-item",{style:null!==t.showContent?"background: #f1f1f1 !important":"",attrs:{value:"mandatory"}},[e("r-sidebar",{ref:"rsidebarmandatory",attrs:{sidebarVersion:t.sidebarVersion,data:t.listData},on:{pagination:t.pagination,setContent:t.setShowContent}})],1),e("v-tab-item",{style:null!==t.showContent?"background: #f1f1f1 !important":"",attrs:{value:"others"}},[e("r-sidebar",{ref:"rsidebarothers",attrs:{sidebarVersion:t.sidebarVersion,data:t.listData},on:{pagination:t.pagination,setContent:t.setShowContent}})],1)],1):t._e()],1),null!==t.showContent?e("div",{attrs:{id:"r-content-kp"}},[e("div",{staticClass:"r-con-header"},[t._v(" Dokumen Standar Prosedur Penghimpunan Dana "),e("img",{attrs:{src:a("6bfe"),alt:""},on:{click:function(i){t.showContent=null}}})]),e("div",{staticClass:"r-con-tab"},[e("div",{staticClass:"r-tab-item",class:"info"==t.activeTab?"r-isactivetab-green":"",on:{click:function(i){i.preventDefault(),t.activeTab="info"}}},[t._v("Info")]),e("div",{staticClass:"r-tab-item",class:"detail"==t.activeTab?"r-isactivetab-green":"",on:{click:function(i){i.preventDefault(),t.activeTab="detail"}}},[t._v("Rincian")]),e("div",{staticClass:"r-tab-item",class:"provision"==t.activeTab?"r-isactivetab-green":"",on:{click:function(i){i.preventDefault(),t.activeTab="provision"}}},[t._v("Ketentuan Terkait")]),t.$store.state.isAuthenticated?e("div",{staticClass:"r-tab-item r-tab-custom"},[t._v("Ada usulan perbaikan ? "),e("div",{staticStyle:{"min-width":"105px"}},[e("u",{staticClass:"r-green-text",on:{click:function(i){i.preventDefault(),t.showSuggestion=!0,t.showSuccess=!1}}},[t._v("Kotak Saran")]),t.showSuggestion?e("div",{staticClass:"r-suggestion"},[e("div",{staticClass:"r-fixed-transparentbg",staticStyle:{background:"#0000000f"},on:{click:function(i){i.preventDefault(),t.showSuggestion=!1,t.showSuccess=!1}}}),e("div",{staticClass:"r-upArrow-shape"}),e("div",{staticClass:"r-suggestion-box"},[t.showSuccess?t._e():e("div",[e("h3",[t._v("Kotak Saran")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.saran,expression:"saran"}],staticClass:"r-textarea-field",attrs:{rows:"5"},domProps:{value:t.saran},on:{input:function(i){i.target.composing||(t.saran=i.target.value)}}}),e("div",{staticClass:"r-button r-lightgreen-outline",staticStyle:{width:"135px"},on:{click:function(i){return t.sendSuggest()}}},[t._v("Kirim Saran")])]),t.showSuccess?e("div",[e("h3",[t._v("Terima Kasih")]),e("p",[t._v("Saran berhasil dikirim dan akan kami tindak lanjuti secepatnya")]),e("img",{staticStyle:{margin:"auto"},attrs:{src:a("f088"),alt:""}})]):t._e()])]):t._e()]),e("img",{staticStyle:{cursor:"pointer"},attrs:{src:a("4685"),alt:""},on:{click:function(i){return t.downloadPdf()}}})]):t._e()]),e("div",{staticClass:"r-con-body"},["info"==t.activeTab?e("r-info",{attrs:{data:t.listDetail.info}}):t._e(),"detail"==t.activeTab?e("r-detail",{attrs:{data:t.listDetail.rincian,info:t.listDetail.info}}):t._e(),"provision"==t.activeTab?e("r-provision",{attrs:{data:t.listDetail.ketentuan_terkait,info:t.listDetail.info}}):t._e()],1)]):t._e()]),t.isLogin&&!t.$store.state.isAuthenticated?e("div",{staticClass:"login-shadow r-loginslider",style:"height: "+(t.maxHeight+180)+"px;"},[e("login-slider")],1):t._e()])},n=[],s=(a("4de4"),a("4160"),a("4e827"),a("d3b7"),a("ac1f"),a("3ca3"),a("841c"),a("159b"),a("ddb0"),a("2b3d"),a("3b5e"));function o(t){return function(){return a("40d8")("./".concat(t,".vue"))}}var r={components:{"r-info":o("info"),"r-detail":o("detail"),"r-provision":o("provision"),"r-sidebar":o("sidebar"),"login-slider":function(){return Promise.resolve().then(a.bind(null,"37bb"))}},data:function(){return{sidebarVersion:1,showSuccess:!1,showSuggestion:!1,showPopUp:!1,sort:"date",filterData:[],categories:[],activeTab:"info",showContent:null,selectValue:null,listData:{current_page:1,data:[]},listDetail:{info:{},rincian:{},ketentuan_terkait:[]},saran:null}},mounted:function(){this.getCat()},computed:{maxHeight:function(){return window.innerHeight-310},isLogin:function(){return this.$store.state.isLogin},isMinimize:function(){return this.$store.state.minimizeSideBar},policyDetailId:function(){return this.$store.state.policyDetailId}},watch:{policyDetailId:function(){null!==this.policyDetailId&&this.policyDetailId!=this.showContent&&(this.showContent=this.policyDetailId)},$route:function(t,i){if(i.params.search!==t.params.search)return this.showContent=null,this.getData("?page=1",t.params.search);i.params.id!==t.params.id&&(this.showContent=t.params.id)},sort:function(){this.getData("?page=".concat(this.listData.current_page))},isLogin:function(){this.isLogin&&(this.showContent=null)},isMinimize:function(){this.isMinimize||(this.showContent=null)},showContent:function(){this.$store.commit("setPolicyDetailId",this.showContent),null===this.showContent?(this.sidebarVersion=1,this.$store.commit("maximizeSideBar")):(this.sidebarVersion=2,this.$store.commit("minimizeSideBar"),this.$store.commit("hideLogin")),this.getDetail()}},methods:{sendSuggest:function(){null===this.saran||""===this.saran?alert("Saran tidak boleh kosong"):(this.showSuccess=!0,this.saran=null)},setShowContent:function(t){this.showContent=t},downloadPdf:function(){var t=this;s["a"].watermarkPdf(this.listDetail.info.link_policy,this.$store.state.userObject.nik).then((function(i){var a=window.URL.createObjectURL(new Blob([i.data])),e=document.createElement("a");e.href=a,e.setAttribute("download","".concat(t.listDetail.info.title,".pdf")),document.body.appendChild(e),e.click()}))},getCat:function(){var t=this;s["a"].getCategory().then((function(i){t.categories=i.data,i.data.forEach((function(i){t.filterData.push(i.id)}))})).then((function(){t.getData("?page=1")}))},getDetail:function(){var t=this;null!==this.showContent&&s["a"].getPolicyDetail(this.showContent).then((function(i){t.listDetail=i.data.response_data}))},getData:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"?page=1",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$route.params.search,e="created_at",n="DESC";"date"!==this.sort&&(e="name",n="AtoZ"===this.sort?"ASC":"DESC"),s["a"].getPolicy(i,e,n,a,this.filterData).then((function(i){t.listData=i.data.response_data}))},pagination:function(t){this.moveCurPage(t.type,t.number)},moveCurPage:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"previous"===t&&this.listData.current_page>1?this.getData("?page=".concat(this.listData.current_page-1)):"next"===t&&this.listData.current_page<this.listData.last_page?this.getData("?page=".concat(this.listData.current_page+1)):"first"===t&&1!=this.listData.current_page?this.getData("?page=1"):"last"===t&&this.listData.current_page!=this.listData.last_page?this.getData("?page=".concat(this.listData.last_page)):"number"===i&&this.getData("?page=".concat(t))},filterType:function(t){if(this.isFilter(t)){var i=this.filterData.filter((function(i){return i!==t}));this.filterData=i}else this.filterData.push(t);this.getData("?page=1",this.$route.params.search)},isFilter:function(t){return this.filterData.filter((function(i){return i===t})).length>0}}},c=r,l=(a("f05b"),a("2877")),u=a("6544"),d=a.n(u),f=a("71a3"),p=a("c671"),v=a("fe57"),h=Object(l["a"])(c,e,n,!1,null,null,null);i["default"]=h.exports;d()(h,{VTab:f["a"],VTabItem:p["a"],VTabs:v["a"]})},"82f7":function(t,i,a){t.exports=a.p+"img/filter_list_24px.50a673b0.svg"},ab04:function(t,i,a){var e={"./check_box_24px_outlined_off.svg":"cd82","./check_box_24px_outlined_on.svg":"da5e"};function n(t){var i=s(t);return a(i)}function s(t){if(!a.o(e,t)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e[t]}n.keys=function(){return Object.keys(e)},n.resolve=s,t.exports=n,n.id="ab04"},afdd:function(t,i,a){"use strict";var e=a("8336");i["a"]=e["a"]},bf60:function(t,i,a){t.exports=a.p+"img/radio_button_24px_outlined_on.37457099.svg"},c551:function(t,i,a){t.exports=a.p+"img/arrow_down.606c32a6.svg"},cd82:function(t,i,a){t.exports=a.p+"img/check_box_24px_outlined_off.7aa09942.svg"},da5e:function(t,i,a){t.exports=a.p+"img/check_box_24px_outlined_on.6d93d111.svg"},f05b:function(t,i,a){"use strict";var e=a("020d"),n=a.n(e);n.a},f088:function(t,i,a){t.exports=a.p+"img/suggestion_success.680b0faf.svg"}}]);
//# sourceMappingURL=view-policyDetail-main-vue.62975a6b.js.map